<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qtnetwork.qdoc -->
  <title>Qt 4.8: Network Programming</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="style/superfish.css" />
  <link rel="stylesheet" type="text/css" href="style/narrow.css" />
  <!--[if IE]>
<meta name="MSSmartTagsPreventParsing" content="true">
<meta http-equiv="imagetoolbar" content="no">
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie6.css">
<![endif]-->
<!--[if IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie7.css">
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="style/style_ie8.css">
<![endif]-->

<script src="scripts/superfish.js" type="text/javascript"></script>
<script src="scripts/narrow.js" type="text/javascript"></script>

</head>
<body class="" onload="CheckEmptyAndLoadList();">
 <div class="header" id="qtdocheader">
    <div class="content"> 
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Reference Documentation</span></a>
    <div id="narrowsearch"></div>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.digia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://qt-project.org/">DEV</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://qt-project.org/doc/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.digia.com/">BLOG</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Qt 4.8</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://qt-project.org/doc/">ALL VERSIONS        </a></li>
      </ul>
     </div>
 <ul class="sf-menu" id="narrowmenu"> 
             <li><a href="#">API Lookup</a> 
                 <ul> 
                     <li><a href="classes.html">Class index</a></li> 
           <li><a href="functions.html">Function index</a></li> 
           <li><a href="modules.html">Modules</a></li> 
           <li><a href="namespaces.html">Namespaces</a></li> 
           <li><a href="qtglobal.html">Global Declarations</a></li> 
           <li><a href="qdeclarativeelements.html">QML elements</a></li> 
             </ul> 
             </li> 
             <li><a href="#">Qt Topics</a> 
                 <ul> 
                        <li><a href="qt-basic-concepts.html">Programming with Qt</a></li>  
                        <li><a href="qtquick.html">Device UIs &amp; Qt Quick</a></li>  
                        <li><a href="qt-gui-concepts.html">UI Design with Qt</a></li>  
                        <li><a href="supported-platforms.html">Supported Platforms</a></li>  
                        <li><a href="technology-apis.html">Qt and Key Technologies</a></li>  
                        <li><a href="best-practices.html">How-To's and Best Practices</a></li>  
              </ul> 
                 </li> 
                 <li><a href="#">Examples</a> 
                     <ul> 
                       <li><a href="all-examples.html">Examples</a></li> 
                       <li><a href="tutorials.html">Tutorials</a></li> 
                       <li><a href="demos.html">Demos</a></li> 
                       <li><a href="qdeclarativeexamples.html">QML Examples</a></li> 
                </ul> 
                     </li> 
                 </ul> 
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search" id="sidebarsearch">
          <form id="qtdocsearch" action="" onsubmit="return false;">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
 <div id="resultdialog"> 
 <a href="#" id="resultclose">Close</a> 
 <p id="resultlinks" class="all"><a href="#" id="showallresults">All</a> | <a href="#" id="showapiresults">API</a> | <a href="#" id="showarticleresults">Articles</a> | <a href="#" id="showexampleresults">Examples</a></p> 
 <p id="searchcount" class="all"><span id="resultcount"></span><span id="apicount"></span><span id="articlecount"></span><span id="examplecount"></span>&nbsp;results:</p> 
 <ul id="resultlist" class="all"> 
 </ul> 
 </div> 
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2 title="API Lookup"><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global Declarations</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2 title="Qt Topics"><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
               <li class="defaultLink"><a href="qt-basic-concepts.html">Programming with Qt</a></li> 
               <li class="defaultLink"><a href="qtquick.html">Device UIs &amp; Qt Quick</a></li> 
               <li class="defaultLink"><a href="qt-gui-concepts.html">UI Design with Qt</a></li> 
               <li class="defaultLink"><a href="supported-platforms.html">Supported Platforms</a></li>  
               <li class="defaultLink"><a href="technology-apis.html">Qt and Key Technologies</a></li> 
               <li class="defaultLink"><a href="best-practices.html">How-To's and Best Practices</a></li> 
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2 title="Examples"><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Breadcrumbs go here -->
<li>Network Programming</li>
            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
        </div>
        </div>
        <div class="content mainContent">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#qt-s-classes-for-network-programming">Qt's Classes for Network Programming</a></li>
<li class="level1"><a href="#high-level-network-operations-for-http-and-ftp">High Level Network Operations for HTTP and FTP</a></li>
<li class="level1"><a href="#writing-ftp-clients-with-qftp">Writing FTP Clients with QFtp</a></li>
<li class="level1"><a href="#using-tcp-with-qtcpsocket-and-qtcpserver">Using TCP with QTcpSocket and QTcpServer</a></li>
<li class="level1"><a href="#using-udp-with-qudpsocket">Using UDP with QUdpSocket</a></li>
<li class="level1"><a href="#resolving-host-names-using-qhostinfo">Resolving Host Names using QHostInfo</a></li>
<li class="level1"><a href="#support-for-network-proxies">Support for Network Proxies</a></li>
<li class="level1"><a href="#bearer-management-support">Bearer Management Support</a></li>
</ul>
</div>
<h1 class="title">Network Programming</h1>
<span class="subtitle"></span>
<!-- $$$network-programming.html-description -->
<div class="descr"> <a name="details"></a>
<p>The <a href="qtnetwork.html">QtNetwork</a> module offers classes that allow you to write TCP/IP clients and servers. It offers classes such as <a href="qftp.html">QFtp</a> that implement specific application-level protocols, lower-level classes such as <a href="qtcpsocket.html">QTcpSocket</a>, <a href="qtcpserver.html">QTcpServer</a> and <a href="qudpsocket.html">QUdpSocket</a> that represent low level network concepts, and high level classes such as <a href="qnetworkrequest.html">QNetworkRequest</a>, <a href="qnetworkreply.html">QNetworkReply</a> and <a href="qnetworkaccessmanager.html">QNetworkAccessManager</a> to perform network operations using common protocols. It also offers classes such as <a href="qnetworkconfiguration.html">QNetworkConfiguration</a>, <a href="qnetworkconfigurationmanager.html">QNetworkConfigurationManager</a> and <a href="qnetworksession.html">QNetworkSession</a> that implement bearer management.</p>
<a name="qt-s-classes-for-network-programming"></a>
<h2>Qt's Classes for Network Programming</h2>
<p>The following classes provide support for network programming in Qt.</p>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qabstractsocket.html">QAbstractSocket</a></p></td><td class="tblDescr"><p>The base functionality common to all socket types</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qauthenticator.html">QAuthenticator</a></p></td><td class="tblDescr"><p>Authentication object</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qftp.html">QFtp</a></p></td><td class="tblDescr"><p>Implementation of the client side of FTP protocol</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qhostaddress.html">QHostAddress</a></p></td><td class="tblDescr"><p>IP address</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qhostinfo.html">QHostInfo</a></p></td><td class="tblDescr"><p>Static functions for host name lookups</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qhttpmultipart.html">QHttpMultiPart</a></p></td><td class="tblDescr"><p>Resembles a MIME multipart message to be sent over HTTP</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qhttppart.html">QHttpPart</a></p></td><td class="tblDescr"><p>Holds a body part to be used inside a HTTP multipart MIME message</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qnetworkaccessmanager.html">QNetworkAccessManager</a></p></td><td class="tblDescr"><p>Allows the application to send network requests and receive replies</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qnetworkaddressentry.html">QNetworkAddressEntry</a></p></td><td class="tblDescr"><p>Stores one IP address supported by a network interface, along with its associated netmask and broadcast address</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qnetworkconfiguration.html">QNetworkConfiguration</a></p></td><td class="tblDescr"><p>Abstraction of one or more access point configurations</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qnetworkconfigurationmanager.html">QNetworkConfigurationManager</a></p></td><td class="tblDescr"><p>Manages the network configurations provided by the system</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qnetworkinterface.html">QNetworkInterface</a></p></td><td class="tblDescr"><p>Listing of the host's IP addresses and network interfaces</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qnetworkproxy.html">QNetworkProxy</a></p></td><td class="tblDescr"><p>Network layer proxy</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qnetworkproxyfactory.html">QNetworkProxyFactory</a></p></td><td class="tblDescr"><p>Fine-grained proxy selection</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qnetworkreply.html">QNetworkReply</a></p></td><td class="tblDescr"><p>Contains the data and headers for a request sent with QNetworkAccessManager</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qnetworkrequest.html">QNetworkRequest</a></p></td><td class="tblDescr"><p>Holds a request to be sent with QNetworkAccessManager</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qnetworksession.html">QNetworkSession</a></p></td><td class="tblDescr"><p>Control over the system's access points and enables session management for cases when multiple clients access the same access point</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qsocketnotifier.html">QSocketNotifier</a></p></td><td class="tblDescr"><p>Support for monitoring activity on a file descriptor</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qssl.html">QSsl</a></p></td><td class="tblDescr"><p>Declares enums common to all SSL classes in QtNetwork</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qsslcertificate.html">QSslCertificate</a></p></td><td class="tblDescr"><p>Convenient API for an X509 certificate</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qsslcipher.html">QSslCipher</a></p></td><td class="tblDescr"><p>Represents an SSL cryptographic cipher</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qsslconfiguration.html">QSslConfiguration</a></p></td><td class="tblDescr"><p>Holds the configuration and state of an SSL connection</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qsslerror.html">QSslError</a></p></td><td class="tblDescr"><p>SSL error</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qsslkey.html">QSslKey</a></p></td><td class="tblDescr"><p>Interface for private and public keys</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qsslsocket.html">QSslSocket</a></p></td><td class="tblDescr"><p>SSL encrypted socket for both clients and servers</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qtcpserver.html">QTcpServer</a></p></td><td class="tblDescr"><p>TCP-based server</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qtcpsocket.html">QTcpSocket</a></p></td><td class="tblDescr"><p>TCP socket</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qudpsocket.html">QUdpSocket</a></p></td><td class="tblDescr"><p>UDP socket</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qurl.html">QUrl</a></p></td><td class="tblDescr"><p>Convenient interface for working with URLs</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qurlinfo.html">QUrlInfo</a></p></td><td class="tblDescr"><p>Stores information about URLs</p></td></tr>
</table>
<a name="high-level-network-operations-for-http-and-ftp"></a>
<h2>High Level Network Operations for HTTP and FTP</h2>
<p>The Network Access API is a collection of classes for performing common network operations. The API provides an abstraction layer over the specific operations and protocols used (for example, getting and posting data over HTTP), and only exposes classes, functions, and signals for general or high level concepts.</p>
<p>Network requests are represented by the <a href="qnetworkrequest.html">QNetworkRequest</a> class, which also acts as a general container for information associated with a request, such as any header information and the encryption used. The URL specified when a request object is constructed determines the protocol used for a request. Currently HTTP, FTP and local file URLs are supported for uploading and downloading.</p>
<p>The coordination of network operations is performed by the <a href="qnetworkaccessmanager.html">QNetworkAccessManager</a> class. Once a request has been created, this class is used to dispatch it and emit signals to report on its progress. The manager also coordinates the use of <a href="qnetworkcookiejar.html">cookies</a> to store data on the client, authentication requests, and the use of proxies.</p>
<p>Replies to network requests are represented by the <a href="qnetworkreply.html">QNetworkReply</a> class; these are created by <a href="qnetworkaccessmanager.html">QNetworkAccessManager</a> when a request is dispatched. The signals provided by <a href="qnetworkreply.html">QNetworkReply</a> can be used to monitor each reply individually, or developers may choose to use the manager's signals for this purpose instead and discard references to replies. Since <a href="qnetworkreply.html">QNetworkReply</a> is a subclass of <a href="qiodevice.html">QIODevice</a>, replies can be handled synchronously or asynchronously; i.e&#x2e;, as blocking or non-blocking operations.</p>
<p>Each application or library can create one or more instances of <a href="qnetworkaccessmanager.html">QNetworkAccessManager</a> to handle network communication.</p>
<a name="writing-ftp-clients-with-qftp"></a>
<h2>Writing FTP Clients with QFtp</h2>
<p>FTP (File Transfer Protocol) is a protocol used almost exclusively for browsing remote directories and for transferring files.</p>
<p class="centerAlign"><img src="images/httpstack.png" alt="FTP Client and Server" /></p><p>FTP uses two network connections, one for sending commands and one for transferring data. The FTP protocol has a state and requires the client to send several commands before a file transfer takes place. FTP clients establish a connection and keeps it open throughout the session. In each session, multiple transfers can occur.</p>
<p>The <a href="qftp.html">QFtp</a> class provides client-side support for FTP. It has the following characteristics:</p>
<ul>
<li><i>Non-blocking behavior.</i> <a href="qftp.html">QFtp</a> is asynchronous. You can schedule a series of commands which are executed later, when control returns to Qt's event loop.</li>
<li><i>Command IDs.</i> Each command has a unique ID number that you can use to follow the execution of the command. For example, <a href="qftp.html">QFtp</a> emits the <a href="qftp.html#commandStarted">commandStarted()</a> and <a href="qftp.html#commandFinished">commandFinished()</a> signal with the command ID for each command that is executed.</li>
<li><i>Data transfer progress indicators.</i> <a href="qftp.html">QFtp</a> emits signals whenever data is transferred (<a href="qftp.html#dataTransferProgress">QFtp::dataTransferProgress</a>(), <a href="qnetworkreply.html#downloadProgress">QNetworkReply::downloadProgress</a>(), and <a href="qnetworkreply.html#uploadProgress">QNetworkReply::uploadProgress</a>()). You could connect these signals to QProgressBar::setProgress() or QProgressDialog::setProgress(), for example.</li>
<li><i><a href="qiodevice.html">QIODevice</a> support.</i> The class supports convenient uploading from and downloading to <a href="qiodevice.html">QIODevice</a>s, in addition to a <a href="qbytearray.html">QByteArray</a>-based API.</li>
</ul>
<p>There are two main ways of using <a href="qftp.html">QFtp</a>. The most common approach is to keep track of the command IDs and follow the execution of every command by connecting to the appropriate signals. The other approach is to schedule all commands at once and only connect to the done() signal, which is emitted when all scheduled commands have been executed. The first approach requires more work, but it gives you more control over the execution of individual commands and allows you to initiate new commands based on the result of a previous command. It also enables you to provide detailed feedback to the user.</p>
<p>The <a href="network-qftp.html">FTP</a> example illustrates how to write an FTP client. Writing your own FTP (or HTTP) server is possible using the lower-level classes <a href="qtcpsocket.html">QTcpSocket</a> and <a href="qtcpserver.html">QTcpServer</a>.</p>
<a name="using-tcp-with-qtcpsocket-and-qtcpserver"></a>
<h2>Using TCP with QTcpSocket and QTcpServer</h2>
<p>TCP (Transmission Control Protocol) is a low-level network protocol used by most Internet protocols, including HTTP and FTP, for data transfer. It is a reliable, stream-oriented, connection-oriented transport protocol. It is particularly well suited to the continuous transmission of data.</p>
<p class="centerAlign"><img src="images/tcpstream.png" alt="A TCP Stream" /></p><p>The <a href="qtcpsocket.html">QTcpSocket</a> class provides an interface for TCP. You can use <a href="qtcpsocket.html">QTcpSocket</a> to implement standard network protocols such as POP3, SMTP, and NNTP, as well as custom protocols.</p>
<p>A TCP connection must be established to a remote host and port before any data transfer can begin. Once the connection has been established, the IP address and port of the peer are available through <a href="qabstractsocket.html#peerAddress">QTcpSocket::peerAddress</a>() and <a href="qabstractsocket.html#peerPort">QTcpSocket::peerPort</a>(). At any time, the peer can close the connection, and data transfer will then stop immediately.</p>
<p><a href="qtcpsocket.html">QTcpSocket</a> works asynchronously and emits signals to report status changes and errors, just like <a href="qnetworkaccessmanager.html">QNetworkAccessManager</a> and <a href="qftp.html">QFtp</a>. It relies on the event loop to detect incoming data and to automatically flush outgoing data. You can write data to the socket using <a href="qiodevice.html#write">QTcpSocket::write</a>(), and read data using <a href="qiodevice.html#read">QTcpSocket::read</a>(). <a href="qtcpsocket.html">QTcpSocket</a> represents two independent streams of data: one for reading and one for writing.</p>
<p>Since <a href="qtcpsocket.html">QTcpSocket</a> inherits <a href="qiodevice.html">QIODevice</a>, you can use it with <a href="qtextstream.html">QTextStream</a> and <a href="qdatastream.html">QDataStream</a>. When reading from a <a href="qtcpsocket.html">QTcpSocket</a>, you must make sure that enough data is available by calling <a href="qabstractsocket.html#bytesAvailable">QTcpSocket::bytesAvailable</a>() beforehand.</p>
<p>If you need to handle incoming TCP connections (e.g&#x2e;, in a server application), use the <a href="qtcpserver.html">QTcpServer</a> class. Call <a href="qtcpserver.html#listen">QTcpServer::listen</a>() to set up the server, and connect to the <a href="qtcpserver.html#newConnection">QTcpServer::newConnection</a>() signal, which is emitted once for every client that connects. In your slot, call <a href="qtcpserver.html#nextPendingConnection">QTcpServer::nextPendingConnection</a>() to accept the connection and use the returned <a href="qtcpsocket.html">QTcpSocket</a> to communicate with the client.</p>
<p>Although most of its functions work asynchronously, it's possible to use <a href="qtcpsocket.html">QTcpSocket</a> synchronously (i.e&#x2e;, blocking). To get blocking behavior, call <a href="qtcpsocket.html">QTcpSocket</a>'s waitFor...() functions; these suspend the calling thread until a signal has been emitted. For example, after calling the non-blocking <a href="qabstractsocket.html#connectToHost">QTcpSocket::connectToHost</a>() function, call <a href="qabstractsocket.html#waitForConnected">QTcpSocket::waitForConnected</a>() to block the thread until the <a href="qabstractsocket.html#connected">connected()</a> signal has been emitted.</p>
<p>Synchronous sockets often lead to code with a simpler flow of control. The main disadvantage of the waitFor...() approach is that events won't be processed while a waitFor...() function is blocking. If used in the GUI thread, this might freeze the application's user interface. For this reason, we recommend that you use synchronous sockets only in non-GUI threads. When used synchronously, <a href="qtcpsocket.html">QTcpSocket</a> doesn't require an event loop.</p>
<p>The <a href="network-fortuneclient.html">Fortune Client</a> and <a href="network-fortuneserver.html">Fortune Server</a> examples show how to use <a href="qtcpsocket.html">QTcpSocket</a> and <a href="qtcpserver.html">QTcpServer</a> to write TCP client-server applications. See also <a href="network-blockingfortuneclient.html">Blocking Fortune Client</a> for an example on how to use a synchronous <a href="qtcpsocket.html">QTcpSocket</a> in a separate thread (without using an event loop), and <a href="network-threadedfortuneserver.html">Threaded Fortune Server</a> for an example of a multithreaded TCP server with one thread per active client.</p>
<a name="using-udp-with-qudpsocket"></a>
<h2>Using UDP with QUdpSocket</h2>
<p>UDP (User Datagram Protocol) is a lightweight, unreliable, datagram-oriented, connectionless protocol. It can be used when reliability isn't important. For example, a server that reports the time of day could choose UDP. If a datagram with the time of day is lost, the client can simply make another request.</p>
<p class="centerAlign"><img src="images/udppackets.png" alt="UDP Packets" /></p><p>The <a href="qudpsocket.html">QUdpSocket</a> class allows you to send and receive UDP datagrams. It inherits <a href="qabstractsocket.html">QAbstractSocket</a>, and it therefore shares most of <a href="qtcpsocket.html">QTcpSocket</a>'s interface. The main difference is that <a href="qudpsocket.html">QUdpSocket</a> transfers data as datagrams instead of as a continuous stream of data. In short, a datagram is a data packet of limited size (normally smaller than 512 bytes), containing the IP address and port of the datagram's sender and receiver in addition to the data being transferred.</p>
<p><a href="qudpsocket.html">QUdpSocket</a> supports IPv4 broadcasting. Broadcasting is often used to implement network discovery protocols, such as finding which host on the network has the most free hard disk space. One host broadcasts a datagram to the network that all other hosts receive. Each host that receives a request then sends a reply back to the sender with its current amount of free disk space. The originator waits until it has received replies from all hosts, and can then choose the server with most free space to store data. To broadcast a datagram, simply send it to the special address <a href="qhostaddress.html#SpecialAddress-enum">QHostAddress::Broadcast</a> (255.255.255.255), or to your local network's broadcast address.</p>
<p><a href="qudpsocket.html#bind">QUdpSocket::bind</a>() prepares the socket for accepting incoming datagrams, much like <a href="qtcpserver.html#listen">QTcpServer::listen</a>() for TCP servers. Whenever one or more datagrams arrive, <a href="qudpsocket.html">QUdpSocket</a> emits the <a href="qiodevice.html#readyRead">readyRead()</a> signal. Call <a href="qudpsocket.html#readDatagram">QUdpSocket::readDatagram</a>() to read the datagram.</p>
<p>The <a href="network-broadcastsender.html">Broadcast Sender</a> and <a href="network-broadcastreceiver.html">Broadcast Receiver</a> examples show how to write a UDP sender and a UDP receiver using Qt.</p>
<p><a href="qudpsocket.html">QUdpSocket</a> also supports multicasting. The <a href="network-multicastsender.html">Multicast Sender</a> and <a href="network-multicastreceiver.html">Multicast Receiver</a> examples show how to use write UDP multicast clients.</p>
<a name="resolving-host-names-using-qhostinfo"></a>
<h2>Resolving Host Names using QHostInfo</h2>
<p>Before establishing a network connection, <a href="qtcpsocket.html">QTcpSocket</a> and <a href="qudpsocket.html">QUdpSocket</a> perform a name lookup, translating the host name you're connecting to into an IP address. This operation is usually performed using the DNS (Domain Name Service) protocol.</p>
<p><a href="qhostinfo.html">QHostInfo</a> provides a static function that lets you perform such a lookup yourself. By calling <a href="qhostinfo.html#lookupHost">QHostInfo::lookupHost</a>() with a host name, a <a href="qobject.html">QObject</a> pointer, and a slot signature, <a href="qhostinfo.html">QHostInfo</a> will perform the name lookup and invoke the given slot when the results are ready. The actual lookup is done in a separate thread, making use of the operating system's own methods for performing name lookups.</p>
<p><a href="qhostinfo.html">QHostInfo</a> also provides a static function called <a href="qhostinfo.html#fromName">QHostInfo::fromName</a>() that takes the host name as argument and returns the results. In this case, the name lookup is performed in the same thread as the caller. This overload is useful for non-GUI applications or for doing name lookups in a separate, non-GUI thread. (Calling this function in a GUI thread may cause your user interface to freeze while the function blocks as it performs the lookup.)</p>
<a name="support-for-network-proxies"></a>
<h2>Support for Network Proxies</h2>
<p>Network communication with Qt can be performed through proxies, which direct or filter network traffic between local and remote connections.</p>
<p>Individual proxies are represented by the <a href="qnetworkproxy.html">QNetworkProxy</a> class, which is used to describe and configure the connection to a proxy. Proxy types which operate on different levels of network communication are supported, with SOCKS 5 support allowing proxying of network traffic at a low level, and HTTP and FTP proxying working at the protocol level. See <a href="qnetworkproxy.html#ProxyType-enum">QNetworkProxy::ProxyType</a> for more information.</p>
<p>Proxying can be enabled on a per-socket basis or for all network communication in an application. A newly opened socket can be made to use a proxy by calling its <a href="qabstractsocket.html#setProxy">QAbstractSocket::setProxy</a>() function before it is connected. Application-wide proxying can be enabled for all subsequent socket connections through the use of the <a href="qnetworkproxy.html#setApplicationProxy">QNetworkProxy::setApplicationProxy</a>() function.</p>
<p>Proxy factories are used to create policies for proxy use. <a href="qnetworkproxyfactory.html">QNetworkProxyFactory</a> supplies proxies based on queries for specific proxy types. The queries themselves are encoded in <a href="qnetworkproxyquery.html">QNetworkProxyQuery</a> objects which enable proxies to be selected based on key criteria, such as the purpose of the proxy (TCP, UDP, TCP server, URL request), local port, remote host and port, and the protocol in use (HTTP, FTP, etc.)&#x2e;</p>
<p><a href="qnetworkproxyfactory.html#proxyForQuery">QNetworkProxyFactory::proxyForQuery</a>() is used to query the factory directly. An application-wide policy for proxying can be implemented by passing a factory to <a href="qnetworkproxyfactory.html#setApplicationProxyFactory">QNetworkProxyFactory::setApplicationProxyFactory</a>() and a custom proxying policy can be created by subclassing <a href="qnetworkproxyfactory.html">QNetworkProxyFactory</a>; see the class documentation for details.</p>
<a name="bearer-management-support"></a>
<h2>Bearer Management Support</h2>
<p>Bearer Management controls the connectivity state of the device such that the application can start or stop network interfaces and roam transparently between access points.</p>
<p>The <a href="qnetworkconfigurationmanager.html">QNetworkConfigurationManager</a> class manages the list of network configurations known to the device. A network configuration describes the set of parameters used to start a network interface and is represented by the <a href="qnetworkconfiguration.html">QNetworkConfiguration</a> class.</p>
<p>A network interface is started by openning a <a href="qnetworksession.html">QNetworkSession</a> based on a given network configuration. In most situations creating a network session based on the platform specified default network configuration is appropriate. The default network configuration is returned by the <a href="qnetworkconfigurationmanager.html#defaultConfiguration">QNetworkConfigurationManager::defaultConfiguration</a>() function.</p>
<p>On some platforms it is a platform requirement that the application open a network session before any network operations can be performed. This can be tested by the presents of the <a href="qnetworkconfigurationmanager.html#Capability-enum">QNetworkConfigurationManager::NetworkSessionRequired</a> flag in the value returned by the <a href="qnetworkconfigurationmanager.html#capabilities">QNetworkConfigurationManager::capabilities</a>() function.</p>
</div>
<p><b>See also </b><a href="bearer-management.html">Bearer Management</a>.</p>
<!-- @@@network-programming.html -->
      </div>
    </div>
    </div> 
    <div class="ft">
      <span></span>
    </div>
  </div> 
  <div class="footer">
    <p>
      <acronym title="Copyright">&copy;</acronym> 2015 The Qt Company Ltd.
      Documentation contributions included herein are the copyrights of
      their respective owners.</p>
    <br />
    <p>
      The documentation provided herein is licensed under the terms of the
      <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation
      License version 1.3</a> as published by the Free Software Foundation.</p>
    <p>
      Documentation sources may be obtained from <a href="http://www.qt-project.org">
      www.qt-project.org</a>.</p>
    <br />
    <p>
      Qt and respective logos are trademarks of The Qt Company Ltd 
      in Finland and/or other countries worldwide. All other trademarks are property
      of their respective owners. <a title="Privacy Policy"
      href="http://en.gitorious.org/privacy_policy/">Privacy Policy</a></p>
  </div>

  <script src="scripts/functions.js" type="text/javascript"></script>
</body>
</html>
