<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- deployment.qdoc -->
  <title>Qt 4.8: Deploying an Application on the Symbian Platform</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="style/superfish.css" />
  <link rel="stylesheet" type="text/css" href="style/narrow.css" />
  <!--[if IE]>
<meta name="MSSmartTagsPreventParsing" content="true">
<meta http-equiv="imagetoolbar" content="no">
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie6.css">
<![endif]-->
<!--[if IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie7.css">
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="style/style_ie8.css">
<![endif]-->

<script src="scripts/superfish.js" type="text/javascript"></script>
<script src="scripts/narrow.js" type="text/javascript"></script>

</head>
<body class="" onload="CheckEmptyAndLoadList();">
 <div class="header" id="qtdocheader">
    <div class="content"> 
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Reference Documentation</span></a>
    <div id="narrowsearch"></div>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.digia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://qt-project.org/">DEV</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://qt-project.org/doc/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.digia.com/">BLOG</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Qt 4.8</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://qt-project.org/doc/">ALL VERSIONS        </a></li>
      </ul>
     </div>
 <ul class="sf-menu" id="narrowmenu"> 
             <li><a href="#">API Lookup</a> 
                 <ul> 
                     <li><a href="classes.html">Class index</a></li> 
           <li><a href="functions.html">Function index</a></li> 
           <li><a href="modules.html">Modules</a></li> 
           <li><a href="namespaces.html">Namespaces</a></li> 
           <li><a href="qtglobal.html">Global Declarations</a></li> 
           <li><a href="qdeclarativeelements.html">QML elements</a></li> 
             </ul> 
             </li> 
             <li><a href="#">Qt Topics</a> 
                 <ul> 
                        <li><a href="qt-basic-concepts.html">Programming with Qt</a></li>  
                        <li><a href="qtquick.html">Device UIs &amp; Qt Quick</a></li>  
                        <li><a href="qt-gui-concepts.html">UI Design with Qt</a></li>  
                        <li><a href="supported-platforms.html">Supported Platforms</a></li>  
                        <li><a href="technology-apis.html">Qt and Key Technologies</a></li>  
                        <li><a href="best-practices.html">How-To's and Best Practices</a></li>  
              </ul> 
                 </li> 
                 <li><a href="#">Examples</a> 
                     <ul> 
                       <li><a href="all-examples.html">Examples</a></li> 
                       <li><a href="tutorials.html">Tutorials</a></li> 
                       <li><a href="demos.html">Demos</a></li> 
                       <li><a href="qdeclarativeexamples.html">QML Examples</a></li> 
                </ul> 
                     </li> 
                 </ul> 
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search" id="sidebarsearch">
          <form id="qtdocsearch" action="" onsubmit="return false;">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
 <div id="resultdialog"> 
 <a href="#" id="resultclose">Close</a> 
 <p id="resultlinks" class="all"><a href="#" id="showallresults">All</a> | <a href="#" id="showapiresults">API</a> | <a href="#" id="showarticleresults">Articles</a> | <a href="#" id="showexampleresults">Examples</a></p> 
 <p id="searchcount" class="all"><span id="resultcount"></span><span id="apicount"></span><span id="articlecount"></span><span id="examplecount"></span>&nbsp;results:</p> 
 <ul id="resultlist" class="all"> 
 </ul> 
 </div> 
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2 title="API Lookup"><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global Declarations</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2 title="Qt Topics"><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
               <li class="defaultLink"><a href="qt-basic-concepts.html">Programming with Qt</a></li> 
               <li class="defaultLink"><a href="qtquick.html">Device UIs &amp; Qt Quick</a></li> 
               <li class="defaultLink"><a href="qt-gui-concepts.html">UI Design with Qt</a></li> 
               <li class="defaultLink"><a href="supported-platforms.html">Supported Platforms</a></li>  
               <li class="defaultLink"><a href="technology-apis.html">Qt and Key Technologies</a></li> 
               <li class="defaultLink"><a href="best-practices.html">How-To's and Best Practices</a></li> 
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2 title="Examples"><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Breadcrumbs go here -->
<li>Deploying an Application on the Symbian Platform</li>
            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
        </div>
        </div>
        <div class="content mainContent">
<p class="naviNextPrevious headerNavi">
</p><p/>
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#overview">Overview</a></li>
<li class="level1"><a href="#requirements">Requirements</a></li>
<li class="level1"><a href="#static-linking">Static Linking</a></li>
<li class="level1"><a href="#shared-libraries">Shared Libraries</a></li>
<li class="level2"><a href="#building-qt-as-a-shared-library">Building Qt as a Shared Library</a></li>
<li class="level1"><a href="#shared-libraries">Shared Libraries</a></li>
</ul>
</div>
<h1 class="title">Deploying an Application on the Symbian Platform</h1>
<span class="subtitle"></span>
<!-- $$$deployment-symbian.html-description -->
<div class="descr"> <a name="details"></a>
<a name="overview"></a>
<h2>Overview</h2>
<p>Applications are deployed to Symbian devices in signed <tt>.sis</tt> package files. The <tt>.sis</tt> file content is controlled with <tt>.pkg</tt> files. The <tt>.pkg</tt> file contains a set of instructions used by tools to produce a <tt>.sis</tt> file. <tt>qmake</tt> generates a default <tt>.pkg</tt> file for your project. The <tt>.pkg</tt> file generated by <tt>qmake</tt> is typically fully functional for testing purposes but when planning to deliver your application to end-users some changes are needed. This document describes what changes are typically needed and how to implement them.</p>
<a name="requirements"></a>
<h2>Requirements</h2>
<p>Download the latest release of the Smart Installer from <a href="http://get.qt.nokia.com/nokiasmartinstaller/">http://get.qt.nokia.com/nokiasmartinstaller/</a>, and install it on top of the Qt package.</p>
<a name="static-linking"></a>
<h2>Static Linking</h2>
<p>Qt for the Symbian platform does not currently support static linking of Qt libraries with application binaries. You will need to build shared libraries as described below and link your application with them.</p>
<a name="shared-libraries"></a>
<h2>Shared Libraries</h2>
<p>When deploying the application using the shared libraries approach we must ensure that the Qt runtime is correctly redistributed along with the application executable, and also that all Qt dependencies are redistributed along with the application.</p>
<p>We will demonstrate these procedures in terms of deploying the <a href="widgets-wiggly.html">Wiggly</a> application that is provided in Qt's examples directory.</p>
<a name="building-qt-as-a-shared-library"></a>
<h3>Building Qt as a Shared Library</h3>
<p>We assume that you already have installed Qt as a shared library, in the <tt>C:\path\to\Qt</tt> directory which is the default when installing Qt for Symbian. For more information on how to build Qt, see the <a href="installation.html">Installation</a> documentation.</p>
<a name="shared-libraries"></a>
<h2>Shared Libraries</h2>
<p>After ensuring that Qt is built as a shared library, we can build the <a href="widgets-wiggly.html">Wiggly</a> application. First, we must go into the directory that contains the application:</p>
<pre class="cpp"> cd examples\widgets\wiggly</pre>
<p>To prepare the application for deployment we must ensure that the <tt>.pkg</tt> file generated by <tt>qmake</tt> contains the relevant vendor information and embeds the necessary dependencies to the application deployment file (<tt>.sis</tt>). The content of the generated <tt>.pkg</tt> file can be controlled with the Symbian specific <tt>qmake</tt> <a href="qmake-variable-reference.html#deployment">DEPLOYMENT</a> keyword extensions.</p>
<p>First, we will change the vendor statement to something more meaningful. The application vendor is visible to end-user during the installation.</p>
<pre class="cpp"> vendorinfo = \
     &quot;%{\&quot;Example Localized Vendor\&quot;}&quot; \
     &quot;:\&quot;Example Vendor\&quot;&quot;

 my_deployment.pkg_prerules = vendorinfo
 DEPLOYMENT += my_deployment</pre>
<p>Second we will tell the Symbian application installer that this application supports only S60 5.0 based devices:</p>
<pre class="cpp"> supported_platforms = \
     &quot;; This demo only supports S60 5.0&quot; \
     &quot;[0x1028315F],0,0,0,{\&quot;S60ProductID\&quot;}&quot;

 default_deployment.pkg_prerules -= pkg_platform_dependencies
 my_deployment.pkg_prerules += supported_platforms
 DEPLOYMENT += my_deployment</pre>
<p>You can find a list of platform and device indentification codes from <a href="http://wiki.forum.nokia.com/index.php/S60_Platform_and_device_identification_codes">Forum Nokia Wiki</a>. By default <tt>.pkg</tt> file generated by <tt>qmake</tt> adds support for all S60 3rd edition FP1, S60 3rd edition FP2 and S60 5th edition devices.</p>
<p>Now we are ready to compile the application and create the application deployment file. Run <tt>qmake</tt> to create Symbian specific makefiles, resources (<tt>.rss</tt>) and deployment packaging files (<tt>.pkg</tt>). And do build to create the application binaries and resources.</p>
<pre class="cpp"> qmake
 make release-gcce</pre>
<p>If everything compiled and linked without any errors, we are now ready to create an application installation package (<tt>wiggly_installer.sis</tt>).</p>
<p>If you haven't done so already, download the latest release of the Smart Installer from <a href="http://get.qt.nokia.com/nokiasmartinstaller/">http://get.qt.nokia.com/nokiasmartinstaller/</a>, and install it on top of the Qt package</p>
<p>Then use this command to create the installer sis package:</p>
<pre class="cpp"> make installer_sis</pre>
<p>If all binaries and dependencies were found, you should now have a self signed <tt>wiggly_installer.sis</tt> ready to be installed on a device. The smart installer contained in the in the installer package will download the necessary dependencies such as Qt libraries to the device.</p>
<p><b>Note:</b> If you want to have your application properly Symbian Signed for distribution, you will have to properly sign both the application and the application installer packages. Please see <a href="http://wiki.forum.nokia.com/index.php/Category:Symbian_Signed">Forum Nokia Wiki</a> for more information about Symbian Signed.</p>
<p>For more information about creating a <tt>.sis</tt> file and installing it to device see also <a href="symbian-with-qt-introduction.html#installing-your-own-applications">here</a>.</p>
</div>
<!-- @@@deployment-symbian.html -->
<p class="naviNextPrevious footerNavi">
</p>
      </div>
    </div>
    </div> 
    <div class="ft">
      <span></span>
    </div>
  </div> 
  <div class="footer">
    <p>
      <acronym title="Copyright">&copy;</acronym> 2015 The Qt Company Ltd.
      Documentation contributions included herein are the copyrights of
      their respective owners.</p>
    <br />
    <p>
      The documentation provided herein is licensed under the terms of the
      <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation
      License version 1.3</a> as published by the Free Software Foundation.</p>
    <p>
      Documentation sources may be obtained from <a href="http://www.qt-project.org">
      www.qt-project.org</a>.</p>
    <br />
    <p>
      Qt and respective logos are trademarks of The Qt Company Ltd 
      in Finland and/or other countries worldwide. All other trademarks are property
      of their respective owners. <a title="Privacy Policy"
      href="http://en.gitorious.org/privacy_policy/">Privacy Policy</a></p>
  </div>

  <script src="scripts/functions.js" type="text/javascript"></script>
</body>
</html>
